import{l as V,r as C,m as be,n as G,p as we,d as E,q as Me,s as k,b as a,o as g,g as D,w as f,v as F,x as N,y as H,z as Te,A as Ce,B as Y,a as d,h as L,T as Le,C as de,D as ce,E as Ie,j as _,c as $,G as Ee,f as q,t as S,i as me,H as W,k as Z,e as Oe,F as Re,I as Ve,u as ze,R as je,J as Ue}from"./index-DdbpnQh1.js";import{u as De,w as ee}from"./ws-D7TjiOAh.js";import{g as z,u as le,a as fe,X as ke,b as xe,c as Ne,_ as Ke,d as We,e as te,f as se}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-BsCY6Tvh.js";import{L as He}from"./loader-circle-C6qkK8XE.js";import{t as Ge,c as Je,i as Q,a as ye,u as Xe,b as Ye,d as Qe,P as K,o as Ze,e as et,f as tt,g as T,r as pe,h as ve,_ as M}from"./createLucideIcon-DfyR5A8Z.js";import{_ as st,C as ot,a as at,b as nt,c as U}from"./circle-alert-Buqbgg0e.js";import{i as rt,P as Be,_ as lt}from"./ScrollArea.vue_vue_type_script_setup_true_lang-BfiZ6toR.js";import{c as ut,u as A,_ as it,a as dt,b as ct}from"./index-Bevz_C_5.js";function Pe(t,s,e){const o=e.originalEvent.target,n=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:e});s&&o.addEventListener(t,s,{once:!0}),o.dispatchEvent(n)}function ft(t){return t==null}function oe(t){if(t===null||typeof t!="object")return!1;const s=Object.getPrototypeOf(t);return s!==null&&s!==Object.prototype&&Object.getPrototypeOf(s)!==null||Symbol.iterator in t?!1:Symbol.toStringTag in t?Object.prototype.toString.call(t)==="[object Module]":!0}function ue(t,s,e=".",o){if(!oe(s))return ue(t,{},e,o);const n=Object.assign({},s);for(const r in t){if(r==="__proto__"||r==="constructor")continue;const c=t[r];c!=null&&(o&&o(n,r,c,e)||(Array.isArray(c)&&Array.isArray(n[r])?n[r]=[...c,...n[r]]:oe(c)&&oe(n[r])?n[r]=ue(c,n[r],(e?`${e}.`:"")+r.toString(),o):n[r]=c))}return n}function pt(t){return(...s)=>s.reduce((e,o)=>ue(e,o,"",t),{})}const vt=pt(),mt=Je(()=>{const t=C(new Map),s=C(),e=V(()=>{for(const c of t.value.values())if(c)return!0;return!1}),o=rt({scrollBody:C(!0)});let n=null;const r=()=>{document.body.style.paddingRight="",document.body.style.marginRight="",document.body.style.pointerEvents="",document.documentElement.style.removeProperty("--scrollbar-width"),document.body.style.overflow=s.value??"",ye&&n?.(),s.value=void 0};return be(e,(c,l)=>{if(!Q)return;if(!c){l&&r();return}s.value===void 0&&(s.value=document.body.style.overflow);const u=window.innerWidth-document.documentElement.clientWidth,p={padding:u,margin:0},i=o.scrollBody?.value?typeof o.scrollBody.value=="object"?vt({padding:o.scrollBody.value.padding===!0?u:o.scrollBody.value.padding,margin:o.scrollBody.value.margin===!0?u:o.scrollBody.value.margin},p):p:{padding:0,margin:0};u>0&&(document.body.style.paddingRight=typeof i.padding=="number"?`${i.padding}px`:String(i.padding),document.body.style.marginRight=typeof i.margin=="number"?`${i.margin}px`:String(i.margin),document.documentElement.style.setProperty("--scrollbar-width",`${u}px`),document.body.style.overflow="hidden"),ye&&(n=Xe(document,"touchmove",v=>gt(v),{passive:!1})),G(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})},{immediate:!0,flush:"sync"}),t});function yt(t){const s=Math.random().toString(36).substring(2,7),e=mt();e.value.set(s,t);const o=V({get:()=>e.value.get(s)??!1,set:n=>e.value.set(s,n)});return Ge(()=>{e.value.delete(s)}),o}function $e(t){const s=window.getComputedStyle(t);if(s.overflowX==="scroll"||s.overflowY==="scroll"||s.overflowX==="auto"&&t.clientWidth<t.scrollWidth||s.overflowY==="auto"&&t.clientHeight<t.scrollHeight)return!0;{const e=t.parentNode;return!(e instanceof Element)||e.tagName==="BODY"?!1:$e(e)}}function gt(t){const s=t||window.event,e=s.target;return e instanceof Element&&$e(e)?!1:s.touches.length>1?!0:(s.preventDefault&&s.cancelable&&s.preventDefault(),!1)}var _t=function(t){if(typeof document>"u")return null;var s=Array.isArray(t)?t[0]:t;return s.ownerDocument.body},j=new WeakMap,J=new WeakMap,X={},ae=0,Fe=function(t){return t&&(t.host||Fe(t.parentNode))},ht=function(t,s){return s.map(function(e){if(t.contains(e))return e;var o=Fe(e);return o&&t.contains(o)?o:(console.error("aria-hidden",e,"in not contained inside",t,". Doing nothing"),null)}).filter(function(e){return!!e})},bt=function(t,s,e,o){var n=ht(s,Array.isArray(t)?t:[t]);X[e]||(X[e]=new WeakMap);var r=X[e],c=[],l=new Set,u=new Set(n),p=function(v){!v||l.has(v)||(l.add(v),p(v.parentNode))};n.forEach(p);var i=function(v){!v||u.has(v)||Array.prototype.forEach.call(v.children,function(y){if(l.has(y))i(y);else try{var m=y.getAttribute(o),w=m!==null&&m!=="false",O=(j.get(y)||0)+1,x=(r.get(y)||0)+1;j.set(y,O),r.set(y,x),c.push(y),O===1&&w&&J.set(y,!0),x===1&&y.setAttribute(e,"true"),w||y.setAttribute(o,"true")}catch(b){console.error("aria-hidden: cannot operate on ",y,b)}})};return i(s),l.clear(),ae++,function(){c.forEach(function(v){var y=j.get(v)-1,m=r.get(v)-1;j.set(v,y),r.set(v,m),y||(J.has(v)||v.removeAttribute(o),J.delete(v)),m||v.removeAttribute(e)}),ae--,ae||(j=new WeakMap,j=new WeakMap,J=new WeakMap,X={})}},wt=function(t,s,e){e===void 0&&(e="data-aria-hidden");var o=Array.from(Array.isArray(t)?t:[t]),n=_t(t);return n?(o.push.apply(o,Array.from(n.querySelectorAll("[aria-live], script"))),bt(o,n,e,"aria-hidden")):function(){return null}};function Ct(t){let s;be(()=>Ye(t),e=>{e?s=wt(e):s&&s()}),we(()=>{s&&s()})}const[I,Et]=ut("DialogRoot");var Ot=E({inheritAttrs:!1,__name:"DialogRoot",props:{open:{type:Boolean,required:!1,default:void 0},defaultOpen:{type:Boolean,required:!1,default:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(t,{emit:s}){const e=t,n=Qe(e,"open",s,{defaultValue:e.defaultOpen,passive:e.open===void 0}),r=C(),c=C(),{modal:l}=Me(e);return Et({open:n,modal:l,openModal:()=>{n.value=!0},onOpenChange:u=>{n.value=u},onOpenToggle:()=>{n.value=!n.value},contentId:"",titleId:"",descriptionId:"",triggerElement:r,contentElement:c}),(u,p)=>k(u.$slots,"default",{open:a(n),close:()=>n.value=!1})}}),Dt=Ot,kt=E({__name:"DialogClose",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const s=t;A();const e=I();return(o,n)=>(g(),D(a(K),F(s,{type:o.as==="button"?"button":void 0,onClick:n[0]||(n[0]=r=>a(e).onOpenChange(!1))}),{default:f(()=>[k(o.$slots,"default")]),_:3},16,["type"]))}}),xt=kt;const Bt="dismissableLayer.pointerDownOutside",Pt="dismissableLayer.focusOutside";function Se(t,s){const e=s.closest("[data-dismissable-layer]"),o=t.dataset.dismissableLayer===""?t:t.querySelector("[data-dismissable-layer]"),n=Array.from(t.ownerDocument.querySelectorAll("[data-dismissable-layer]"));return!!(e&&(o===e||n.indexOf(o)<n.indexOf(e)))}function $t(t,s,e=!0){const o=s?.value?.ownerDocument??globalThis?.document,n=C(!1),r=C(()=>{});return N(c=>{if(!Q||!H(e))return;const l=async p=>{const i=p.target;if(!(!s?.value||!i)){if(Se(s.value,i)){n.value=!1;return}if(p.target&&!n.value){let y=function(){Pe(Bt,t,v)};const v={originalEvent:p};p.pointerType==="touch"?(o.removeEventListener("click",r.value),r.value=y,o.addEventListener("click",r.value,{once:!0})):y()}else o.removeEventListener("click",r.value);n.value=!1}},u=window.setTimeout(()=>{o.addEventListener("pointerdown",l)},0);c(()=>{window.clearTimeout(u),o.removeEventListener("pointerdown",l),o.removeEventListener("click",r.value)})}),{onPointerDownCapture:()=>{H(e)&&(n.value=!0)}}}function Ft(t,s,e=!0){const o=s?.value?.ownerDocument??globalThis?.document,n=C(!1);return N(r=>{if(!Q||!H(e))return;const c=async l=>{if(!s?.value)return;await G(),await G();const u=l.target;!s.value||!u||Se(s.value,u)||l.target&&!n.value&&Pe(Pt,t,{originalEvent:l})};o.addEventListener("focusin",c),r(()=>o.removeEventListener("focusin",c))}),{onFocusCapture:()=>{H(e)&&(n.value=!0)},onBlurCapture:()=>{H(e)&&(n.value=!1)}}}const P=Ce({layersRoot:new Set,layersWithOutsidePointerEventsDisabled:new Set,originalBodyPointerEvents:void 0,branches:new Set});var St=E({__name:"DismissableLayer",props:{disableOutsidePointerEvents:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","dismiss"],setup(t,{emit:s}){const e=t,o=s,{forwardRef:n,currentElement:r}=A(),c=V(()=>r.value?.ownerDocument??globalThis.document),l=V(()=>P.layersRoot),u=V(()=>r.value?Array.from(l.value).indexOf(r.value):-1),p=V(()=>P.layersWithOutsidePointerEventsDisabled.size>0),i=V(()=>{const m=Array.from(l.value),[w]=[...P.layersWithOutsidePointerEventsDisabled].slice(-1),O=m.indexOf(w);return u.value>=O}),v=$t(async m=>{const w=[...P.branches].some(O=>O?.contains(m.target));!i.value||w||(o("pointerDownOutside",m),o("interactOutside",m),await G(),m.defaultPrevented||o("dismiss"))},r),y=Ft(m=>{[...P.branches].some(O=>O?.contains(m.target))||(o("focusOutside",m),o("interactOutside",m),m.defaultPrevented||o("dismiss"))},r);return Ze("Escape",m=>{u.value===l.value.size-1&&(o("escapeKeyDown",m),m.defaultPrevented||o("dismiss"))}),N(m=>{r.value&&(e.disableOutsidePointerEvents&&(P.layersWithOutsidePointerEventsDisabled.size===0&&(P.originalBodyPointerEvents=c.value.body.style.pointerEvents,c.value.body.style.pointerEvents="none"),P.layersWithOutsidePointerEventsDisabled.add(r.value)),l.value.add(r.value),m(()=>{e.disableOutsidePointerEvents&&P.layersWithOutsidePointerEventsDisabled.size===1&&!ft(P.originalBodyPointerEvents)&&(c.value.body.style.pointerEvents=P.originalBodyPointerEvents)}))}),N(m=>{m(()=>{r.value&&(l.value.delete(r.value),P.layersWithOutsidePointerEventsDisabled.delete(r.value))})}),(m,w)=>(g(),D(a(K),{ref:a(n),"as-child":m.asChild,as:m.as,"data-dismissable-layer":"",style:Te({pointerEvents:p.value?i.value?"auto":"none":void 0}),onFocusCapture:a(y).onFocusCapture,onBlurCapture:a(y).onBlurCapture,onPointerdownCapture:a(v).onPointerDownCapture},{default:f(()=>[k(m.$slots,"default")]),_:3},8,["as-child","as","style","onFocusCapture","onBlurCapture","onPointerdownCapture"]))}}),At=St;const qt=et(()=>C([]));function Mt(){const t=qt();return{add(s){const e=t.value[0];s!==e&&e?.pause(),t.value=ge(t.value,s),t.value.unshift(s)},remove(s){t.value=ge(t.value,s),t.value[0]?.resume()}}}function ge(t,s){const e=[...t],o=e.indexOf(s);return o!==-1&&e.splice(o,1),e}const ne="focusScope.autoFocusOnMount",re="focusScope.autoFocusOnUnmount",_e={bubbles:!1,cancelable:!0};function Tt(t,{select:s=!1}={}){const e=z();for(const o of t)if(R(o,{select:s}),z()!==e)return!0}function Lt(t){const s=Ae(t),e=he(s,t),o=he(s.reverse(),t);return[e,o]}function Ae(t){const s=[],e=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const n=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||n?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;e.nextNode();)s.push(e.currentNode);return s}function he(t,s){for(const e of t)if(!It(e,{upTo:s}))return e}function It(t,{upTo:s}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(s!==void 0&&t===s)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Rt(t){return t instanceof HTMLInputElement&&"select"in t}function R(t,{select:s=!1}={}){if(t&&t.focus){const e=z();t.focus({preventScroll:!0}),t!==e&&Rt(t)&&s&&t.select()}}var Vt=E({__name:"FocusScope",props:{loop:{type:Boolean,required:!1,default:!1},trapped:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["mountAutoFocus","unmountAutoFocus"],setup(t,{emit:s}){const e=t,o=s,{currentRef:n,currentElement:r}=A(),c=C(null),l=Mt(),u=Ce({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});N(i=>{if(!Q)return;const v=r.value;if(!e.trapped)return;function y(x){if(u.paused||!v)return;const b=x.target;v.contains(b)?c.value=b:R(c.value,{select:!0})}function m(x){if(u.paused||!v)return;const b=x.relatedTarget;b!==null&&(v.contains(b)||R(c.value,{select:!0}))}function w(x){v.contains(c.value)||R(v)}document.addEventListener("focusin",y),document.addEventListener("focusout",m);const O=new MutationObserver(w);v&&O.observe(v,{childList:!0,subtree:!0}),i(()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",m),O.disconnect()})}),N(async i=>{const v=r.value;if(await G(),!v)return;l.add(u);const y=z();if(!v.contains(y)){const w=new CustomEvent(ne,_e);v.addEventListener(ne,O=>o("mountAutoFocus",O)),v.dispatchEvent(w),w.defaultPrevented||(Tt(Ae(v),{select:!0}),z()===y&&R(v))}i(()=>{v.removeEventListener(ne,x=>o("mountAutoFocus",x));const w=new CustomEvent(re,_e),O=x=>{o("unmountAutoFocus",x)};v.addEventListener(re,O),v.dispatchEvent(w),setTimeout(()=>{w.defaultPrevented||R(y??document.body,{select:!0}),v.removeEventListener(re,O),l.remove(u)},0)})});function p(i){if(!e.loop&&!e.trapped||u.paused)return;const v=i.key==="Tab"&&!i.altKey&&!i.ctrlKey&&!i.metaKey,y=z();if(v&&y){const m=i.currentTarget,[w,O]=Lt(m);w&&O?!i.shiftKey&&y===O?(i.preventDefault(),e.loop&&R(w,{select:!0})):i.shiftKey&&y===w&&(i.preventDefault(),e.loop&&R(O,{select:!0})):y===m&&i.preventDefault()}}return(i,v)=>(g(),D(a(K),{ref_key:"currentRef",ref:n,tabindex:"-1","as-child":i.asChild,as:i.as,onKeydown:p},{default:f(()=>[k(i.$slots,"default")]),_:3},8,["as-child","as"]))}}),zt=Vt;function jt(t){return t?"open":"closed"}var Ut=E({__name:"DialogContentImpl",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:s}){const e=t,o=s,n=I(),{forwardRef:r,currentElement:c}=A();return n.titleId||=le(void 0,"reka-dialog-title"),n.descriptionId||=le(void 0,"reka-dialog-description"),Y(()=>{n.contentElement=c,z()!==document.body&&(n.triggerElement.value=z())}),(l,u)=>(g(),D(a(zt),{"as-child":"",loop:"",trapped:e.trapFocus,onMountAutoFocus:u[5]||(u[5]=p=>o("openAutoFocus",p)),onUnmountAutoFocus:u[6]||(u[6]=p=>o("closeAutoFocus",p))},{default:f(()=>[d(a(At),F({id:a(n).contentId,ref:a(r),as:l.as,"as-child":l.asChild,"disable-outside-pointer-events":l.disableOutsidePointerEvents,role:"dialog","aria-describedby":a(n).descriptionId,"aria-labelledby":a(n).titleId,"data-state":a(jt)(a(n).open.value)},l.$attrs,{onDismiss:u[0]||(u[0]=p=>a(n).onOpenChange(!1)),onEscapeKeyDown:u[1]||(u[1]=p=>o("escapeKeyDown",p)),onFocusOutside:u[2]||(u[2]=p=>o("focusOutside",p)),onInteractOutside:u[3]||(u[3]=p=>o("interactOutside",p)),onPointerDownOutside:u[4]||(u[4]=p=>o("pointerDownOutside",p))}),{default:f(()=>[k(l.$slots,"default")]),_:3},16,["id","as","as-child","disable-outside-pointer-events","aria-describedby","aria-labelledby","data-state"])]),_:3},8,["trapped"]))}}),qe=Ut,Nt=E({__name:"DialogContentModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:s}){const e=t,o=s,n=I(),r=fe(o),{forwardRef:c,currentElement:l}=A();return Ct(l),(u,p)=>(g(),D(qe,F({...e,...a(r)},{ref:a(c),"trap-focus":a(n).open.value,"disable-outside-pointer-events":!0,onCloseAutoFocus:p[0]||(p[0]=i=>{i.defaultPrevented||(i.preventDefault(),a(n).triggerElement.value?.focus())}),onPointerDownOutside:p[1]||(p[1]=i=>{const v=i.detail.originalEvent,y=v.button===0&&v.ctrlKey===!0;(v.button===2||y)&&i.preventDefault()}),onFocusOutside:p[2]||(p[2]=i=>{i.preventDefault()})}),{default:f(()=>[k(u.$slots,"default")]),_:3},16,["trap-focus"]))}}),Kt=Nt,Wt=E({__name:"DialogContentNonModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:s}){const e=t,n=fe(s);A();const r=I(),c=C(!1),l=C(!1);return(u,p)=>(g(),D(qe,F({...e,...a(n)},{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:p[0]||(p[0]=i=>{i.defaultPrevented||(c.value||a(r).triggerElement.value?.focus(),i.preventDefault()),c.value=!1,l.value=!1}),onInteractOutside:p[1]||(p[1]=i=>{i.defaultPrevented||(c.value=!0,i.detail.originalEvent.type==="pointerdown"&&(l.value=!0));const v=i.target;a(r).triggerElement.value?.contains(v)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&l.value&&i.preventDefault()})}),{default:f(()=>[k(u.$slots,"default")]),_:3},16))}}),Ht=Wt,Gt=E({__name:"DialogContent",props:{forceMount:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:s}){const e=t,o=s,n=I(),r=fe(o),{forwardRef:c}=A();return(l,u)=>(g(),D(a(Be),{present:l.forceMount||a(n).open.value},{default:f(()=>[a(n).modal.value?(g(),D(Kt,F({key:0,ref:a(c)},{...e,...a(r),...l.$attrs}),{default:f(()=>[k(l.$slots,"default")]),_:3},16)):(g(),D(Ht,F({key:1,ref:a(c)},{...e,...a(r),...l.$attrs}),{default:f(()=>[k(l.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),Jt=Gt,Xt=E({__name:"DialogOverlayImpl",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const s=I();return yt(!0),A(),(e,o)=>(g(),D(a(K),{as:e.as,"as-child":e.asChild,"data-state":a(s).open.value?"open":"closed",style:{"pointer-events":"auto"}},{default:f(()=>[k(e.$slots,"default")]),_:3},8,["as","as-child","data-state"]))}}),Yt=Xt,Qt=E({__name:"DialogOverlay",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const s=I(),{forwardRef:e}=A();return(o,n)=>a(s)?.modal.value?(g(),D(a(Be),{key:0,present:o.forceMount||a(s).open.value},{default:f(()=>[d(Yt,F(o.$attrs,{ref:a(e),as:o.as,"as-child":o.asChild}),{default:f(()=>[k(o.$slots,"default")]),_:3},16,["as","as-child"])]),_:3},8,["present"])):L("v-if",!0)}}),Zt=Qt,es=E({__name:"Teleport",props:{to:{type:null,required:!1,default:"body"},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(t){const s=tt();return(e,o)=>a(s)||e.forceMount?(g(),D(Le,{key:0,to:e.to,disabled:e.disabled,defer:e.defer},[k(e.$slots,"default")],8,["to","disabled","defer"])):L("v-if",!0)}}),ts=es,ss=E({__name:"DialogPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(t){const s=t;return(e,o)=>(g(),D(a(ts),de(ce(s)),{default:f(()=>[k(e.$slots,"default")]),_:3},16))}}),os=ss,as=E({__name:"DialogTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"h2"}},setup(t){const s=t,e=I();return A(),(o,n)=>(g(),D(a(K),F(s,{id:a(e).titleId}),{default:f(()=>[k(o.$slots,"default")]),_:3},16,["id"]))}}),ns=as,rs=E({__name:"DialogTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const s=t,e=I(),{forwardRef:o,currentElement:n}=A();return e.contentId||=le(void 0,"reka-dialog-content"),Y(()=>{e.triggerElement.value=n.value}),(r,c)=>(g(),D(a(K),F(s,{ref:a(o),type:r.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":a(e).open.value||!1,"aria-controls":a(e).open.value?a(e).contentId:void 0,"data-state":a(e).open.value?"open":"closed",onClick:a(e).onOpenToggle}),{default:f(()=>[k(r.$slots,"default")]),_:3},16,["type","aria-expanded","aria-controls","data-state","onClick"]))}}),ls=rs;const us=T("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const is=T("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const ds=T("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);const cs=T("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]);const fs=T("octagon-x",[["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M2.586 16.726A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2h6.624a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586z",key:"2d38gg"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const ps=T("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const ie=T("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);const vs=T("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const ms=T("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const ys=T("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),gs=E({__name:"Sonner",props:{id:{},invert:{type:Boolean},theme:{},position:{},closeButtonPosition:{},hotkey:{},richColors:{type:Boolean},expand:{type:Boolean},duration:{},gap:{},visibleToasts:{},closeButton:{type:Boolean},toastOptions:{},class:{},style:{},offset:{},mobileOffset:{},dir:{},swipeDirections:{},icons:{},containerAriaLabel:{}},setup(t){const e=pe(t,"toastOptions");return(o,n)=>(g(),D(a(Ie),F({class:"toaster group","toast-options":{classes:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}}},a(e)),{"success-icon":f(()=>[d(a(us),{class:"size-4"})]),"info-icon":f(()=>[d(a(is),{class:"size-4"})]),"warning-icon":f(()=>[d(a(ms),{class:"size-4"})]),"error-icon":f(()=>[d(a(fs),{class:"size-4"})]),"loading-icon":f(()=>[_("div",null,[d(a(He),{class:"size-4 animate-spin"})])]),"close-icon":f(()=>[d(a(ke),{class:"size-4"})]),_:1},16))}}),_s=E({__name:"Dialog",props:{open:{type:Boolean},defaultOpen:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(t,{emit:s}){const n=xe(t,s);return(r,c)=>(g(),D(a(Dt),de(ce(a(n))),{default:f(()=>[k(r.$slots,"default")]),_:3},16))}}),hs=E({__name:"DialogContent",props:{forceMount:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:s}){const e=t,o=s,n=pe(e,"class"),r=xe(n,o);return(c,l)=>(g(),D(a(os),null,{default:f(()=>[d(a(Zt),{class:"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),d(a(Jt),F(a(r),{class:a(ve)("fixed left-1/2 top-1/2 z-50 grid w-full max-w-lg -translate-x-1/2 -translate-y-1/2 gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e.class)}),{default:f(()=>[k(c.$slots,"default"),d(a(xt),{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground"},{default:f(()=>[d(a(ke),{class:"w-4 h-4"}),l[0]||(l[0]=_("span",{class:"sr-only"},"Close",-1))]),_:1})]),_:3},16,["class"])]),_:3}))}}),bs=E({__name:"DialogHeader",props:{class:{}},setup(t){const s=t;return(e,o)=>(g(),$("div",{class:Ee(a(ve)("flex flex-col gap-y-1.5 text-center sm:text-left",s.class))},[k(e.$slots,"default")],2))}}),ws=E({__name:"DialogTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const s=t,e=pe(s,"class"),o=Ne(e);return(n,r)=>(g(),D(a(ns),F(a(o),{class:a(ve)("text-lg font-semibold leading-none tracking-tight",s.class)}),{default:f(()=>[k(n.$slots,"default")]),_:3},16,["class"]))}}),Cs=E({__name:"DialogTrigger",props:{asChild:{type:Boolean},as:{}},setup(t){const s=t;return(e,o)=>(g(),D(a(ls),de(ce(s)),{default:f(()=>[k(e.$slots,"default")]),_:3},16))}}),Es={key:0,class:"py-2"},Os={class:"flex gap-2"},Ds={key:0,class:"border rounded-lg p-3 space-y-3"},ks={class:"flex items-center gap-3"},xs=["src"],Bs={class:"font-medium"},Ps={class:"flex gap-2"},$s={key:0,class:"border rounded-lg p-3 space-y-3"},Fs={class:"flex items-center gap-3"},Ss=["src"],As={class:"font-medium"},qs={class:"text-xs text-muted-foreground"},Ms=E({__name:"ContactModal",setup(t){const s=C(!1),e=C("friend"),o=C(""),n=C(""),r=C(null),c=C(""),l=C(""),u=C(null),p=C(""),i=C(""),v=async()=>{if(o.value="",!!n.value)try{const b=await W.get("/user/search",{params:{username:n.value},silent:!0});r.value=b}catch(b){r.value=null,o.value=b.message||"User not found"}},y=async()=>{if(o.value="",!!r.value)try{await W.post("/friend/request",{target_id:r.value.id,remark:c.value||"Hello"},{silent:!0}),Z.success("Friend request sent"),s.value=!1,x()}catch(b){o.value=b.message}},m=async()=>{if(o.value="",!!l.value)try{const b=await W.get("/group/search",{params:{group_code:l.value},silent:!0});u.value=b}catch(b){u.value=null,o.value=b.message||"Group not found"}},w=async()=>{if(o.value="",!!u.value)try{await W.post("/group/join",{group_id:u.value.id,remark:p.value||"Hello"},{silent:!0}),Z.success("Join request sent"),s.value=!1,x()}catch(b){o.value=b.message}},O=async()=>{if(o.value="",!!i.value)try{await W.post("/group/create",{name:i.value},{silent:!0}),Z.success("Group created"),s.value=!1,x()}catch(b){o.value=b.message}},x=()=>{n.value="",r.value=null,c.value="",l.value="",u.value=null,p.value="",i.value="",o.value=""};return(b,h)=>(g(),D(a(_s),{open:s.value,"onUpdate:open":h[6]||(h[6]=B=>s.value=B)},{default:f(()=>[d(a(Cs),{"as-child":""},{default:f(()=>[k(b.$slots,"default")]),_:3}),d(a(hs),{class:"sm:max-w-[425px]"},{default:f(()=>[d(a(bs),null,{default:f(()=>[d(a(ws),null,{default:f(()=>[...h[7]||(h[7]=[q("Contacts & Groups",-1)])]),_:1})]),_:1}),d(a(Ke),{modelValue:e.value,"onUpdate:modelValue":h[5]||(h[5]=B=>e.value=B),class:"w-full"},{default:f(()=>[d(a(We),{class:"grid w-full grid-cols-3"},{default:f(()=>[d(a(te),{value:"friend"},{default:f(()=>[...h[8]||(h[8]=[q("Add Friend",-1)])]),_:1}),d(a(te),{value:"join-group"},{default:f(()=>[...h[9]||(h[9]=[q("Join Group",-1)])]),_:1}),d(a(te),{value:"create-group"},{default:f(()=>[...h[10]||(h[10]=[q("Create Group",-1)])]),_:1})]),_:1}),o.value?(g(),$("div",Es,[d(a(st),{variant:"destructive"},{default:f(()=>[d(a(ot),{class:"w-4 h-4"}),d(a(at),null,{default:f(()=>[...h[11]||(h[11]=[q("Error",-1)])]),_:1}),d(a(nt),null,{default:f(()=>[q(S(o.value),1)]),_:1})]),_:1})])):L("",!0),d(a(se),{value:"friend",class:"space-y-4 py-4"},{default:f(()=>[_("div",Os,[d(a(U),{modelValue:n.value,"onUpdate:modelValue":h[0]||(h[0]=B=>n.value=B),placeholder:"Username",onKeyup:me(v,["enter"])},null,8,["modelValue"]),d(a(M),{size:"icon",onClick:v},{default:f(()=>[d(a(ie),{class:"h-4 w-4"})]),_:1})]),r.value?(g(),$("div",Ds,[_("div",ks,[_("img",{src:r.value.avatar||"https://github.com/shadcn.png",class:"h-10 w-10 rounded-full"},null,8,xs),_("div",null,[_("div",Bs,S(r.value.nickname||r.value.username),1)])]),d(a(U),{modelValue:c.value,"onUpdate:modelValue":h[1]||(h[1]=B=>c.value=B),placeholder:"Remark (Optional)"},null,8,["modelValue"]),d(a(M),{class:"w-full",onClick:y},{default:f(()=>[...h[12]||(h[12]=[q("Send Request",-1)])]),_:1})])):L("",!0)]),_:1}),d(a(se),{value:"join-group",class:"space-y-4 py-4"},{default:f(()=>[_("div",Ps,[d(a(U),{modelValue:l.value,"onUpdate:modelValue":h[2]||(h[2]=B=>l.value=B),placeholder:"Group Code",onKeyup:me(m,["enter"])},null,8,["modelValue"]),d(a(M),{size:"icon",onClick:m},{default:f(()=>[d(a(ie),{class:"h-4 w-4"})]),_:1})]),u.value?(g(),$("div",$s,[_("div",Fs,[_("img",{src:u.value.icon||"https://github.com/shadcn.png",class:"h-10 w-10 rounded-full"},null,8,Ss),_("div",null,[_("div",As,S(u.value.name),1),_("div",qs,"Members: "+S(u.value.member_count),1)])]),d(a(U),{modelValue:p.value,"onUpdate:modelValue":h[3]||(h[3]=B=>p.value=B),placeholder:"Remark (Optional)"},null,8,["modelValue"]),d(a(M),{class:"w-full",onClick:w},{default:f(()=>[...h[13]||(h[13]=[q("Join Group",-1)])]),_:1})])):L("",!0)]),_:1}),d(a(se),{value:"create-group",class:"space-y-4 py-4"},{default:f(()=>[d(a(U),{modelValue:i.value,"onUpdate:modelValue":h[4]||(h[4]=B=>i.value=B),placeholder:"Group Name"},null,8,["modelValue"]),d(a(M),{class:"w-full",onClick:O},{default:f(()=>[...h[14]||(h[14]=[q("Create Group",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:3},8,["open"]))}}),Ts={class:"w-80 border-r flex flex-col bg-muted/20 h-full"},Ls={class:"p-4 border-b flex items-center justify-between"},Is={class:"p-4 pb-0"},Rs={class:"relative"},Vs={class:"flex flex-col gap-1 px-2"},zs=["onClick"],js={class:"relative"},Us={key:0,class:"absolute -top-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-[10px] text-white"},Ns={class:"flex-1 overflow-hidden"},Ks={class:"flex justify-between items-center"},Ws={class:"font-medium truncate"},Hs={key:0,class:"text-xs text-muted-foreground"},Gs={class:"flex justify-between items-center"},Js={class:"text-xs text-muted-foreground truncate max-w-[180px]"},Xs=E({__name:"ChatList",setup(t){const s=De(),e=Oe(),o=C("");Y(async()=>{await s.fetchConversations()});const n=r=>{s.setActiveChat(r),e.push("/")};return(r,c)=>(g(),$("div",Ts,[_("div",Ls,[c[1]||(c[1]=_("h2",{class:"font-semibold text-lg"},"Messages",-1)),d(Ms,null,{default:f(()=>[d(a(M),{variant:"ghost",size:"icon"},{default:f(()=>[d(a(ps),{class:"h-5 w-5"})]),_:1})]),_:1})]),_("div",Is,[_("div",Rs,[d(a(ie),{class:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),d(a(U),{modelValue:o.value,"onUpdate:modelValue":c[0]||(c[0]=l=>o.value=l),placeholder:"Search...",class:"pl-9"},null,8,["modelValue"])])]),d(a(lt),{class:"flex-1 mt-4"},{default:f(()=>[_("div",Vs,[(g(!0),$(Re,null,Ve(a(s).conversations.filter(l=>(l.name||"").toLowerCase().includes(o.value.toLowerCase())),l=>(g(),$("div",{key:l.id,class:Ee(["flex items-center gap-3 p-3 rounded-lg cursor-pointer transition-colors",a(s).activeChatId===l.id?"bg-secondary":"hover:bg-muted/50"]),onClick:u=>n(l.id)},[_("div",js,[d(a(it),null,{default:f(()=>[d(a(dt),{src:l.avatar},null,8,["src"]),d(a(ct),null,{default:f(()=>[q(S(l.name?l.name.slice(0,2).toUpperCase():"??"),1)]),_:2},1024)]),_:2},1024),l.unread>0?(g(),$("span",Us,S(l.unread>99?"99+":l.unread),1)):L("",!0)]),_("div",Ns,[_("div",Ks,[_("span",Ws,S(l.name),1),l.lastTime?(g(),$("span",Hs,S(l.lastTime),1)):L("",!0)]),_("div",Gs,[_("span",Js,S(l.lastMsg),1)])])],10,zs))),128))])]),_:1})]))}}),Ys={class:"flex h-screen w-full overflow-hidden bg-background"},Qs={class:"w-16 border-r flex flex-col items-center py-4 gap-4 bg-muted/40 z-50"},Zs={class:"flex-1 flex flex-col gap-2 w-full px-2"},eo={class:"relative"},to={key:0,class:"absolute top-0 right-0 flex h-3 w-3 items-center justify-center rounded-full bg-red-500 text-[8px] text-white"},so={class:"relative"},oo={key:0,class:"absolute top-0 right-0 flex h-3 w-3 items-center justify-center rounded-full bg-red-500 text-[8px] text-white"},ao={class:"mt-auto px-2 w-full"},no={class:"flex-1 overflow-hidden"},mo=E({__name:"MainLayout",setup(t){const s=ze(),e=De(),o=Ue(),n=Oe(),r=V(()=>o.path.includes("contacts")?"contacts":o.path.includes("settings")?"settings":"chats");Y(()=>{s.token&&(ee.connect(),e.fetchConversations(),e.fetchRequestCounts())}),we(()=>{ee.disconnect()});const c=()=>{s.logout(),ee.disconnect(),location.reload()},l=u=>{u==="chats"?n.push("/"):u==="contacts"?n.push("/contacts"):u==="settings"&&n.push("/settings")};return(u,p)=>(g(),$("div",Ys,[_("aside",Qs,[p[3]||(p[3]=_("div",{class:"h-10 w-10 rounded-full bg-primary flex items-center justify-center text-primary-foreground font-bold"}," GC ",-1)),_("nav",Zs,[_("div",eo,[d(a(M),{variant:r.value==="chats"?"secondary":"ghost",size:"icon",class:"w-full justify-center",title:"Chats",onClick:p[0]||(p[0]=i=>l("chats"))},{default:f(()=>[d(a(cs),{class:"h-5 w-5"})]),_:1},8,["variant"]),a(e).totalUnread>0?(g(),$("span",to,S(a(e).totalUnread>9?"9+":a(e).totalUnread),1)):L("",!0)]),_("div",so,[d(a(M),{variant:r.value==="contacts"?"secondary":"ghost",size:"icon",class:"w-full justify-center",title:"Contacts",onClick:p[1]||(p[1]=i=>l("contacts"))},{default:f(()=>[d(a(ys),{class:"h-5 w-5"})]),_:1},8,["variant"]),a(e).totalRequests>0?(g(),$("span",oo,S(a(e).totalRequests>9?"9+":a(e).totalRequests),1)):L("",!0)]),d(a(M),{variant:r.value==="settings"?"secondary":"ghost",size:"icon",class:"w-full justify-center",title:"Settings",onClick:p[2]||(p[2]=i=>l("settings"))},{default:f(()=>[d(a(vs),{class:"h-5 w-5"})]),_:1},8,["variant"])]),_("div",ao,[d(a(M),{variant:"ghost",size:"icon",class:"w-full justify-center",title:"Logout",onClick:c},{default:f(()=>[d(a(ds),{class:"h-5 w-5"})]),_:1})])]),d(Xs),_("main",no,[d(a(je))]),d(a(gs))]))}});export{mo as default};
