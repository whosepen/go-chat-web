import{b as S,P as h,i as w,h as E,n as O}from"./createLucideIcon-DfyR5A8Z.js";import{X as P,_ as $,U as k,l as x,r as d,d as f,o as p,g as v,w as m,s as g,b as l,x as j,h as q,B as R,p as L,q as I,m as B,K as M,a1 as z,G as F,C as D,D as K,v as T}from"./index-DdbpnQh1.js";function U(e,t){const o=typeof e=="string"&&!t?`${e}Context`:t,r=Symbol(o);return[a=>{const u=P(r,a);if(u||u===null)return u;throw new Error(`Injection \`${r.toString()}\` not found. Component must be used within ${Array.isArray(e)?`one of the following components: ${e.join(", ")}`:`\`${e}\``}`)},a=>($(r,a),a)]}function y(){const e=k(),t=d(),o=x(()=>["#text","#comment"].includes(t.value?.$el.nodeName)?t.value?.$el.nextElementSibling:S(t)),r=Object.assign({},e.exposed),s={};for(const a in e.props)Object.defineProperty(s,a,{enumerable:!0,configurable:!0,get:()=>e.props[a]});if(Object.keys(r).length>0)for(const a in r)Object.defineProperty(s,a,{enumerable:!0,configurable:!0,get:()=>r[a]});Object.defineProperty(s,"$el",{enumerable:!0,configurable:!0,get:()=>e.vnode.el}),e.exposed=s;function i(a){if(t.value=a,!!a&&(Object.defineProperty(s,"$el",{enumerable:!0,configurable:!0,get:()=>a instanceof Element?a:a.$el}),!(a instanceof Element)&&!Object.hasOwn(a,"$el"))){const u=a.$.exposed,c=Object.assign({},s);for(const n in u)Object.defineProperty(c,n,{enumerable:!0,configurable:!0,get:()=>u[n]});e.exposed=c}}return{forwardRef:i,currentRef:t,currentElement:o}}const[A,G]=U("AvatarRoot");var W=f({__name:"AvatarRoot",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){return y(),G({imageLoadingStatus:d("idle")}),(t,o)=>(p(),v(l(h),{"as-child":t.asChild,as:t.as},{default:m(()=>[g(t.$slots,"default")]),_:3},8,["as-child","as"]))}}),X=W,H=f({__name:"AvatarFallback",props:{delayMs:{type:Number,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){const t=e,o=A();y();const r=d(t.delayMs===void 0);return j(s=>{if(t.delayMs&&w){const i=window.setTimeout(()=>{r.value=!0},t.delayMs);s(()=>{window.clearTimeout(i)})}}),(s,i)=>r.value&&l(o).imageLoadingStatus.value!=="loaded"?(p(),v(l(h),{key:0,"as-child":s.asChild,as:s.as},{default:m(()=>[g(s.$slots,"default")]),_:3},8,["as-child","as"])):q("v-if",!0)}}),J=H;function C(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Q(e,{referrerPolicy:t,crossOrigin:o}={}){const r=d(!1),s=d(null),i=x(()=>r.value?(!s.value&&w&&(s.value=new window.Image),s.value):null),a=d(C(i.value,e.value)),u=c=>()=>{r.value&&(a.value=c)};return R(()=>{r.value=!0,j(c=>{const n=i.value;if(!n)return;a.value=C(n,e.value);const _=u("loaded"),b=u("error");n.addEventListener("load",_),n.addEventListener("error",b),t?.value&&(n.referrerPolicy=t.value),typeof o?.value=="string"&&(n.crossOrigin=o.value),c(()=>{n.removeEventListener("load",_),n.removeEventListener("error",b)})})}),L(()=>{r.value=!1}),a}var Y=f({__name:"AvatarImage",props:{src:{type:String,required:!0},referrerPolicy:{type:null,required:!1},crossOrigin:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"img"}},emits:["loadingStatusChange"],setup(e,{emit:t}){const o=e,r=t,{src:s,referrerPolicy:i,crossOrigin:a}=I(o);y();const u=A(),c=Q(s,{referrerPolicy:i,crossOrigin:a});return B(c,n=>{r("loadingStatusChange",n),n!=="idle"&&(u.imageLoadingStatus.value=n)},{immediate:!0}),(n,_)=>M((p(),v(l(h),{role:"img","as-child":n.asChild,as:n.as,src:l(s),referrerpolicy:l(i),crossorigin:l(a)},{default:m(()=>[g(n.$slots,"default")]),_:3},8,["as-child","as","src","referrerpolicy","crossorigin"])),[[z,l(c)==="loaded"]])}}),Z=Y;const te=f({__name:"Avatar",props:{class:{},size:{default:"sm"},shape:{default:"circle"}},setup(e){const t=e;return(o,r)=>(p(),v(l(X),{class:F(l(E)(l(V)({size:e.size,shape:e.shape}),t.class))},{default:m(()=>[g(o.$slots,"default")]),_:3},8,["class"]))}}),ae=f({__name:"AvatarFallback",props:{delayMs:{},asChild:{type:Boolean},as:{}},setup(e){const t=e;return(o,r)=>(p(),v(l(J),D(K(t)),{default:m(()=>[g(o.$slots,"default")]),_:3},16))}}),re=f({__name:"AvatarImage",props:{src:{},referrerPolicy:{},crossOrigin:{},asChild:{type:Boolean},as:{}},setup(e){const t=e;return(o,r)=>(p(),v(l(Z),T(t,{class:"h-full w-full object-cover"}),{default:m(()=>[g(o.$slots,"default")]),_:3},16))}}),V=O("inline-flex items-center justify-center font-normal text-foreground select-none shrink-0 bg-secondary overflow-hidden",{variants:{size:{sm:"h-10 w-10 text-xs",base:"h-16 w-16 text-2xl",lg:"h-32 w-32 text-5xl"},shape:{circle:"rounded-full",square:"rounded-md"}}});export{te as _,re as a,ae as b,U as c,y as u};
